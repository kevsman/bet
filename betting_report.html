<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Value Bets - Domestic Leagues</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #e0e0e0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #0f0f23;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            overflow: hidden;
            border: 1px solid #2d2d44;
        }
        
        .header {
            background: linear-gradient(135deg, #0f3460 0%, #16213e 100%);
            color: white;
            padding: 40px;
            text-align: center;
            border-bottom: 2px solid #e94560;
        }
        
        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            color: #e94560;
        }
        
        .header .subtitle {
            font-size: 1.1em;
            color: #4ecca3;
            margin-bottom: 5px;
        }
        
        .header .model-info {
            font-size: 0.95em;
            color: #a0a0b0;
        }
        
        .header .timestamp {
            margin-top: 15px;
            font-size: 0.85em;
            color: #666;
        }
        
        .summary {
            background: #1a1a2e;
            padding: 25px 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            border-bottom: 1px solid #2d2d44;
        }
        
        .summary-card {
            background: linear-gradient(135deg, #16213e 0%, #1a1a2e 100%);
            padding: 18px 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #2d2d44;
        }
        
        .summary-card .label {
            color: #888;
            font-size: 0.8em;
            margin-bottom: 5px;
            text-transform: uppercase;
        }
        
        .summary-card .value {
            font-size: 1.8em;
            font-weight: bold;
        }
        
        .summary-card .value.green { color: #4ecca3; }
        .summary-card .value.red { color: #e94560; }
        .summary-card .value.yellow { color: #fbbf24; }
        .summary-card .value.purple { color: #a855f7; }
        .summary-card .value.blue { color: #60a5fa; }
        
        .bet-list {
            padding: 25px;
        }
        
        .section-title {
            color: #e94560;
            font-size: 1.2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #2d2d44;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .section-title .count {
            background: #2d2d44;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            color: #a0a0b0;
        }
        
        /* Compact Bet Table */
        .bet-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: #16213e;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .bet-table th {
            background: #0f0f23;
            padding: 12px 10px;
            text-align: left;
            font-size: 0.75em;
            text-transform: uppercase;
            color: #666;
            font-weight: 600;
            border-bottom: 2px solid #2d2d44;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .bet-table th.sortable {
            cursor: pointer;
            user-select: none;
            transition: all 0.2s;
        }
        
        .bet-table th.sortable:hover {
            color: #4ecca3;
            background: #1a1a2e;
        }
        
        .bet-table th.sortable.active {
            color: #4ecca3;
        }
        
        .bet-table th .sort-icon {
            display: inline-block;
            margin-left: 4px;
            font-size: 0.8em;
            opacity: 0.5;
        }
        
        .bet-table th.sortable.active .sort-icon {
            opacity: 1;
        }
        
        .bet-table th:first-child {
            padding-left: 15px;
            width: 40px;
        }
        
        .bet-table td {
            padding: 12px 10px;
            border-bottom: 1px solid #2d2d44;
            vertical-align: middle;
        }
        
        .bet-table tr {
            transition: background 0.2s;
        }
        
        .bet-table tbody tr:hover {
            background: #1e2a47;
        }
        
        .bet-table tbody tr.selected {
            background: rgba(78, 204, 163, 0.1);
        }
        
        .bet-table tbody tr.top-pick {
            border-left: 3px solid #4ecca3;
        }
        
        .bet-table tbody tr.strong {
            border-left: 3px solid #fbbf24;
        }
        
        .bet-row-checkbox input {
            display: none;
        }
        
        .bet-row-checkbox label {
            width: 22px;
            height: 22px;
            background: #2d2d44;
            border: 2px solid #3d3d54;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            color: transparent;
            font-size: 0.85em;
        }
        
        .bet-row-checkbox input:checked + label {
            background: #4ecca3;
            border-color: #4ecca3;
            color: #0f0f23;
        }
        
        .match-cell {
            min-width: 180px;
        }
        
        .match-cell .teams {
            font-weight: 600;
            color: #fff;
            font-size: 0.95em;
            margin-bottom: 2px;
        }
        
        .match-cell .meta {
            font-size: 0.75em;
            color: #666;
        }
        
        .match-cell .league {
            color: #a0a0b0;
            background: #2d2d44;
            padding: 2px 6px;
            border-radius: 4px;
            margin-right: 8px;
        }
        
        .match-cell .date {
            color: #4ecca3;
        }
        
        .bet-type-cell {
            font-weight: 600;
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 0.85em;
            display: inline-block;
            white-space: nowrap;
        }
        
        .bet-type-cell.over {
            background: linear-gradient(135deg, #e94560 0%, #ff6b6b 100%);
            color: white;
        }
        
        .bet-type-cell.under {
            background: linear-gradient(135deg, #4ecca3 0%, #45b7a0 100%);
            color: white;
        }
        
        .odds-cell {
            font-weight: bold;
            color: #fbbf24;
            font-size: 1em;
        }
        
        .ev-cell {
            font-weight: bold;
            color: #4ecca3;
            font-size: 1em;
        }
        
        .edge-cell {
            color: #60a5fa;
            font-size: 0.95em;
        }
        
        .prob-cell {
            color: #a855f7;
            font-size: 0.95em;
        }
        
        .stake-cell {
            color: #e94560;
            font-size: 0.95em;
        }
        
        .goals-cell {
            color: #fbbf24;
            font-weight: bold;
            font-size: 0.95em;
        }
        
        .models-cell {
            font-size: 0.8em;
            min-width: 140px;
        }
        
        .model-mini {
            display: flex;
            gap: 3px;
            align-items: center;
            margin-bottom: 2px;
        }
        
        .model-mini:last-child {
            margin-bottom: 0;
        }
        
        .model-label {
            width: 14px;
            height: 14px;
            border-radius: 3px;
            font-size: 0.65em;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .model-label.poisson {
            background: #60a5fa;
            color: #0f0f23;
        }
        
        .model-label.dc {
            background: #a855f7;
            color: #0f0f23;
        }
        
        .model-mini .model-prob {
            color: #a0a0b0;
        }
        
        .model-mini .model-score {
            color: #666;
            font-size: 0.9em;
        }
        
        .badge-mini {
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.65em;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .badge-mini.top { background: #4ecca3; color: #0f0f23; }
        .badge-mini.strong { background: #fbbf24; color: #0f0f23; }
        
        /* Legacy styles for Top 5 cards (keeping card format there) */
        .bet-card {
            background: linear-gradient(135deg, #16213e 0%, #1a1a2e 100%);
            border: 1px solid #2d2d44;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .bet-card:hover {
            border-color: #e94560;
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.15);
            transform: translateY(-2px);
        }
        
        .bet-card.top-pick {
            border-left: 4px solid #4ecca3;
        }
        
        .bet-card.strong {
            border-left: 4px solid #fbbf24;
        }
        
        .badge {
            padding: 5px 12px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .badge.top { background: #4ecca3; color: #0f0f23; }
        .badge.strong { background: #fbbf24; color: #0f0f23; }
        
        .bet-type {
            font-size: 1.1em;
            font-weight: bold;
            padding: 10px 18px;
            border-radius: 8px;
            color: white;
        }
        
        .bet-type.over {
            background: linear-gradient(135deg, #e94560 0%, #ff6b6b 100%);
        }
        
        .bet-type.under {
            background: linear-gradient(135deg, #4ecca3 0%, #45b7a0 100%);
        }
        
        .bet-odds {
            font-size: 1.3em;
            font-weight: bold;
            color: #fff;
        }
        
        .bet-odds span {
            color: #888;
            font-size: 0.7em;
            font-weight: normal;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 12px;
        }
        
        .metric {
            background: #0f0f23;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #2d2d44;
        }
        
        .metric .label {
            color: #666;
            font-size: 0.7em;
            text-transform: uppercase;
            margin-bottom: 4px;
        }
        
        .metric .value {
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .metric .value.green { color: #4ecca3; }
        .metric .value.red { color: #e94560; }
        .metric .value.yellow { color: #fbbf24; }
        .metric .value.purple { color: #a855f7; }
        .metric .value.blue { color: #60a5fa; }
        
        .metric .sub {
            color: #555;
            font-size: 0.7em;
            margin-top: 2px;
        }
        
        .model-comparison {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #2d2d44;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .model-box {
            background: #0f0f23;
            border: 1px solid #2d2d44;
            border-radius: 8px;
            padding: 12px 15px;
            min-width: 160px;
        }
        
        .model-box.poisson {
            border-left: 3px solid #60a5fa;
        }
        
        .model-box.dixon-coles {
            border-left: 3px solid #a855f7;
        }
        
        .model-title {
            font-size: 0.75em;
            text-transform: uppercase;
            color: #888;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        .model-box.poisson .model-title { color: #60a5fa; }
        .model-box.dixon-coles .model-title { color: #a855f7; }
        
        .model-stats {
            display: flex;
            gap: 15px;
        }
        
        .model-stat {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .stat-label {
            font-size: 0.65em;
            color: #555;
            text-transform: uppercase;
        }
        
        .stat-value {
            font-size: 1em;
            font-weight: bold;
            color: #e0e0e0;
        }
        
        .model-source {
            margin-left: auto;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8em;
        }
        
        .source-label {
            color: #555;
        }
        
        .source-value {
            color: #4ecca3;
            font-weight: 500;
        }
        
        .footer {
            background: #0f0f23;
            padding: 20px;
            text-align: center;
            color: #555;
            font-size: 0.85em;
            border-top: 1px solid #2d2d44;
        }
        
        .footer a {
            color: #4ecca3;
            text-decoration: none;
        }
        
        /* Top 5 Section */
        .top-bets {
            background: linear-gradient(135deg, #16213e 0%, #1a1a2e 100%);
            padding: 25px;
            border-bottom: 1px solid #2d2d44;
        }
        
        .top-bets-title {
            color: #e94560;
            font-size: 1.2em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .top-bets-title .icon {
            font-size: 1.3em;
        }
        
        .top-bets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }
        
        .top-bet-card {
            background: #0f0f23;
            border: 1px solid #2d2d44;
            border-radius: 10px;
            padding: 15px;
            position: relative;
        }
        
        .top-bet-card .rank {
            position: absolute;
            top: -8px;
            left: -8px;
            background: #e94560;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.85em;
        }
        
        .top-bet-card .teams {
            font-weight: bold;
            color: #fff;
            margin-bottom: 8px;
            font-size: 0.95em;
        }
        
        .top-bet-card .bet-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .top-bet-card .bet-label {
            font-size: 0.85em;
            padding: 4px 10px;
            border-radius: 5px;
            color: white;
        }
        
        .top-bet-card .bet-label.over { background: #e94560; }
        .top-bet-card .bet-label.under { background: #4ecca3; }
        
        .top-bet-card .odds-display {
            color: #fbbf24;
            font-weight: bold;
        }
        
        .top-bet-card .ev-display {
            color: #4ecca3;
            font-size: 1.1em;
            font-weight: bold;
        }
        
        /* Calculator Section */
        .calculator {
            background: #1a1a2e;
            padding: 25px;
            border-bottom: 1px solid #2d2d44;
        }
        
        .calculator-title {
            color: #4ecca3;
            font-size: 1.2em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .calculator-controls {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .bankroll-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .bankroll-input label {
            color: #a0a0b0;
            font-size: 0.9em;
        }
        
        .bankroll-input input {
            background: #0f0f23;
            border: 1px solid #2d2d44;
            border-radius: 8px;
            padding: 10px 15px;
            color: #fff;
            font-size: 1.1em;
            width: 150px;
            text-align: right;
        }
        
        .bankroll-input input:focus {
            outline: none;
            border-color: #4ecca3;
        }
        
        .staking-method {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .staking-method label {
            color: #a0a0b0;
            font-size: 0.9em;
        }
        
        .staking-method select {
            background: #0f0f23;
            border: 1px solid #2d2d44;
            border-radius: 8px;
            padding: 10px 15px;
            color: #fff;
            font-size: 0.95em;
            cursor: pointer;
        }
        
        .staking-method select:focus {
            outline: none;
            border-color: #4ecca3;
        }
        
        .prob-filter {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .prob-filter label {
            color: #a0a0b0;
            font-size: 0.9em;
        }
        
        .prob-filter select {
            background: #0f0f23;
            border: 1px solid #2d2d44;
            border-radius: 8px;
            padding: 10px 15px;
            color: #fff;
            font-size: 0.95em;
            cursor: pointer;
        }
        
        .prob-filter select:focus {
            outline: none;
            border-color: #4ecca3;
        }
        
        .calc-buttons {
            display: flex;
            gap: 10px;
        }
        
        .calc-btn {
            background: #2d2d44;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            color: #a0a0b0;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.2s;
        }
        
        .calc-btn:hover {
            background: #3d3d54;
            color: #fff;
        }
        
        .calc-btn.primary {
            background: #4ecca3;
            color: #0f0f23;
        }
        
        .calc-btn.primary:hover {
            background: #5fd9b0;
        }
        
        .calc-results {
            background: #0f0f23;
            border-radius: 10px;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .calc-result {
            text-align: center;
        }
        
        .calc-result .label {
            color: #666;
            font-size: 0.8em;
            text-transform: uppercase;
            margin-bottom: 5px;
        }
        
        .calc-result .value {
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .calc-result .value.green { color: #4ecca3; }
        .calc-result .value.red { color: #e94560; }
        .calc-result .value.yellow { color: #fbbf24; }
        
        /* Bet Breakdown */
        .bet-breakdown {
            margin-top: 20px;
            background: #0f0f23;
            border-radius: 10px;
            padding: 15px;
            display: none;
        }
        
        .bet-breakdown.visible {
            display: block;
        }
        
        .bet-breakdown-title {
            color: #a0a0b0;
            font-size: 0.85em;
            text-transform: uppercase;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #2d2d44;
        }
        
        .bet-breakdown-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .bet-breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: #16213e;
            border-radius: 6px;
            font-size: 0.9em;
        }
        
        .bet-breakdown-item .bet-info {
            color: #a0a0b0;
        }
        
        .bet-breakdown-item .bet-match {
            color: #fff;
            font-weight: 500;
        }
        
        .bet-breakdown-item .bet-amount {
            color: #4ecca3;
            font-weight: bold;
        }
        
        /* Bet Selection */
        .bet-card {
            position: relative;
        }
        
        .bet-checkbox {
            position: absolute;
            top: 15px;
            right: 15px;
        }
        
        .bet-checkbox input {
            display: none;
        }
        
        .bet-checkbox label {
            width: 28px;
            height: 28px;
            background: #2d2d44;
            border: 2px solid #3d3d54;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            color: transparent;
            font-size: 1em;
        }
        
        .bet-checkbox input:checked + label {
            background: #4ecca3;
            border-color: #4ecca3;
            color: #0f0f23;
        }
        
        .bet-checkbox label:hover {
            border-color: #4ecca3;
        }
        
        .bet-card.selected {
            border-color: #4ecca3;
            box-shadow: 0 0 15px rgba(78, 204, 163, 0.2);
        }
        
        @media (max-width: 768px) {
            .header h1 { font-size: 1.6em; }
            .match-teams { font-size: 1.1em; }
            .summary { grid-template-columns: repeat(2, 1fr); }
            .metrics-grid { grid-template-columns: repeat(2, 1fr); }
            .top-bets-grid { grid-template-columns: 1fr; }
            .calculator-controls { flex-direction: column; align-items: stretch; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Value Bets Report</h1>
            <div class="subtitle">Domestic Leagues</div>
            <div class="model-info">Dixon-Coles + Poisson Ensemble Model</div>
            <div class="timestamp">Generated: December 07, 2025 at 08:18</div>
        </div>
        
        <div class="summary">
            <div class="summary-card">
                <div class="label">Value Bets</div>
                <div class="value green">20</div>
            </div>
            <div class="summary-card">
                <div class="label">Total Stake</div>
                <div class="value red">48.1%</div>
            </div>
            <div class="summary-card">
                <div class="label">Avg EV</div>
                <div class="value green">+7.4%</div>
            </div>
            <div class="summary-card">
                <div class="label">Best EV</div>
                <div class="value green">+12.0%</div>
            </div>
            <div class="summary-card">
                <div class="label">Avg Odds</div>
                <div class="value yellow">2.29</div>
            </div>
            <div class="summary-card">
                <div class="label">Over / Under</div>
                <div class="value blue">4 / 16</div>
            </div>
            <div class="summary-card">
                <div class="label">Avg Prob</div>
                <div class="value purple">58%</div>
            </div>
            <div class="summary-card">
                <div class="label">Optimal Range</div>
                <div class="value green">11</div>
            </div>
        </div>

        <div class="top-bets" style="background: linear-gradient(135deg, #1a2e1a 0%, #1a1a2e 100%); border-left: 3px solid #4ecca3;">
            <div class="top-bets-title" style="color: #4ecca3;">
                <span class="icon">&#128202;</span>
                <span>Model Calibration Insights</span>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; color: #a0a0b0; font-size: 0.9em;">
                <div style="background: #0f0f23; padding: 15px; border-radius: 8px; border-left: 3px solid #60a5fa;">
                    <div style="color: #60a5fa; font-weight: bold; margin-bottom: 8px;">Poisson Model (Primary)</div>
                    <ul style="margin-left: 18px; line-height: 1.6;">
                        <li>Best calibration: <span style="color: #4ecca3;">1.15% ECE</span> (excellent)</li>
                        <li>Optimal range: <span style="color: #fbbf24;">35-75% probability</span></li>
                        <li>Slight over-prediction bias: +0.08 goals</li>
                    </ul>
                </div>
                <div style="background: #0f0f23; padding: 15px; border-radius: 8px; border-left: 3px solid #a855f7;">
                    <div style="color: #a855f7; font-weight: bold; margin-bottom: 8px;">Dixon-Coles Model</div>
                    <ul style="margin-left: 18px; line-height: 1.6;">
                        <li>Higher ECE: <span style="color: #e94560;">9.84%</span> (needs caution)</li>
                        <li>Under-predicts goals: -0.35 bias</li>
                        <li>Use for secondary confirmation only</li>
                    </ul>
                </div>
                <div style="background: #0f0f23; padding: 15px; border-radius: 8px; border-left: 3px solid #fbbf24;">
                    <div style="color: #fbbf24; font-weight: bold; margin-bottom: 8px;">Edge Analysis (ROI)</div>
                    <ul style="margin-left: 18px; line-height: 1.6;">
                        <li>0-10% edge: <span style="color: #e94560;">Negative ROI</span> (avoid)</li>
                        <li>10-15% edge: <span style="color: #4ecca3;">Break-even to +0.2%</span></li>
                        <li>15%+ edge: <span style="color: #4ecca3;">+47.9% ROI</span> (best)</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="top-bets">
            <div class="top-bets-title">
                <span class="icon">&#9733;</span>
                <span>Top 5 Value Bets</span>
            </div>
            <div class="top-bets-grid">

                <div class="top-bet-card">
                    <div class="rank">1</div>
                    <div class="teams">Napoli vs Juventus</div>
                    <div class="bet-info">
                        <span class="bet-label over">Over 2.5</span>
                        <span class="odds-display">@ 2.55</span>
                    </div>
                    <div class="ev-display">+30.5% EV</div>
                </div>

                <div class="top-bet-card">
                    <div class="rank">2</div>
                    <div class="teams">Elche vs Girona</div>
                    <div class="bet-info">
                        <span class="bet-label under">Under 2.5</span>
                        <span class="odds-display">@ 1.85</span>
                    </div>
                    <div class="ev-display">+19.8% EV</div>
                </div>

                <div class="top-bet-card">
                    <div class="rank">3</div>
                    <div class="teams">Napoli vs Juventus</div>
                    <div class="bet-info">
                        <span class="bet-label over">Over 3.5</span>
                        <span class="odds-display">@ 4.70</span>
                    </div>
                    <div class="ev-display">+44.0% EV</div>
                </div>

                <div class="top-bet-card">
                    <div class="rank">4</div>
                    <div class="teams">Sparta Rotterdam vs NAC Breda</div>
                    <div class="bet-info">
                        <span class="bet-label under">Under 2.5</span>
                        <span class="odds-display">@ 2.05</span>
                    </div>
                    <div class="ev-display">+19.1% EV</div>
                </div>

                <div class="top-bet-card">
                    <div class="rank">5</div>
                    <div class="teams">Osasuna vs Levante</div>
                    <div class="bet-info">
                        <span class="bet-label under">Under 2.5</span>
                        <span class="odds-display">@ 1.90</span>
                    </div>
                    <div class="ev-display">+17.2% EV</div>
                </div>

            </div>
        </div>

        <div class="top-bets" style="border-left: 3px solid #a855f7;">
            <div class="top-bets-title" style="color: #a855f7;">
                <span class="icon">&#127919;</span>
                <span>Highest Probability Bets (Most Confident)</span>
            </div>
            <div class="top-bets-grid">

                <div class="top-bet-card" style="border-left: 3px solid #a855f7;">
                    <div class="rank" style="background: #a855f7;">1</div>
                    <div class="teams">Elche vs Girona</div>
                    <div class="bet-info">
                        <span class="bet-label under">Under 3.5</span>
                        <span class="odds-display">@ 1.32</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="color: #a855f7; font-size: 1.2em; font-weight: bold;">84% Prob</div>
                        <div class="ev-display" style="font-size: 0.9em;">+10.5% EV</div>
                    </div>
                </div>

                <div class="top-bet-card" style="border-left: 3px solid #a855f7;">
                    <div class="rank" style="background: #a855f7;">2</div>
                    <div class="teams">Osasuna vs Levante</div>
                    <div class="bet-info">
                        <span class="bet-label under">Under 3.5</span>
                        <span class="odds-display">@ 1.32</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="color: #a855f7; font-size: 1.2em; font-weight: bold;">81% Prob</div>
                        <div class="ev-display" style="font-size: 0.9em;">+7.6% EV</div>
                    </div>
                </div>

                <div class="top-bet-card" style="border-left: 3px solid #a855f7;">
                    <div class="rank" style="background: #a855f7;">3</div>
                    <div class="teams">Alanyaspor vs Antalyaspor</div>
                    <div class="bet-info">
                        <span class="bet-label under">Under 3.5</span>
                        <span class="odds-display">@ 1.32</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="color: #a855f7; font-size: 1.2em; font-weight: bold;">81% Prob</div>
                        <div class="ev-display" style="font-size: 0.9em;">+7.2% EV</div>
                    </div>
                </div>

                <div class="top-bet-card" style="border-left: 3px solid #a855f7;">
                    <div class="rank" style="background: #a855f7;">4</div>
                    <div class="teams">OGC Nice vs Angers SCO</div>
                    <div class="bet-info">
                        <span class="bet-label under">Under 3.5</span>
                        <span class="odds-display">@ 1.35</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="color: #a855f7; font-size: 1.2em; font-weight: bold;">80% Prob</div>
                        <div class="ev-display" style="font-size: 0.9em;">+7.3% EV</div>
                    </div>
                </div>

                <div class="top-bet-card" style="border-left: 3px solid #a855f7;">
                    <div class="rank" style="background: #a855f7;">5</div>
                    <div class="teams">Sparta Rotterdam vs NAC Breda</div>
                    <div class="bet-info">
                        <span class="bet-label under">Under 3.5</span>
                        <span class="odds-display">@ 1.42</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="color: #a855f7; font-size: 1.2em; font-weight: bold;">78% Prob</div>
                        <div class="ev-display" style="font-size: 0.9em;">+11.4% EV</div>
                    </div>
                </div>

            </div>
        </div>

        <div class="calculator">
            <div class="calculator-title">
                <span>&#128176;</span>
                <span>Bet Calculator</span>
            </div>
            <div class="calculator-controls">
                <div class="bankroll-input">
                    <label for="bankroll">Bankroll (kr):</label>
                    <input type="number" id="bankroll" value="500" min="0" step="100">
                </div>
                <div class="staking-method">
                    <label for="staking">Staking:</label>
                    <select id="staking" onchange="updateCalculator()">
                        <option value="kelly">Kelly (proportional to edge)</option>
                        <option value="fixed">Fixed (equal stakes)</option>
                        <option value="ev-weighted">EV Weighted</option>
                    </select>
                </div>
                <div class="prob-filter">
                    <label for="minProb">Min Prob:</label>
                    <select id="minProb" onchange="applyProbFilter()">
                        <option value="0">All bets</option>
                        <option value="35" selected>≥35% (calibrated range)</option>
                        <option value="50">≥50% (confident)</option>
                        <option value="60">≥60% (high confidence)</option>
                    </select>
                </div>
                <div class="prob-filter">
                    <label for="maxProb">Max Prob:</label>
                    <select id="maxProb" onchange="applyProbFilter()">
                        <option value="100">No limit</option>
                        <option value="75" selected>≤75% (calibrated range)</option>
                        <option value="65">≤65% (moderate)</option>
                    </select>
                </div>
                <div class="calc-buttons">
                    <button class="calc-btn" onclick="selectAll()">Select All</button>
                    <button class="calc-btn" onclick="selectNone()">Clear All</button>
                    <button class="calc-btn" onclick="selectTop5()">Top 5 Only</button>
                </div>
            </div>
            <div class="calc-results">
                <div class="calc-result">
                    <div class="label">Selected Bets</div>
                    <div class="value green" id="selected-count">0</div>
                </div>
                <div class="calc-result">
                    <div class="label">Total to Stake</div>
                    <div class="value red" id="total-stake">0 kr</div>
                </div>
                <div class="calc-result">
                    <div class="label">Expected Return</div>
                    <div class="value yellow" id="expected-return">0 kr</div>
                </div>
                <div class="calc-result">
                    <div class="label">Expected Profit</div>
                    <div class="value green" id="expected-profit">0 kr</div>
                </div>
            </div>
            <div id="bet-breakdown" class="bet-breakdown"></div>
        </div>
        
        <div class="bet-list">
            <div class="section-title">
                <span>All Value Bets</span>
                <span class="count">20 bets found</span>
            </div>
            
            <table class="bet-table" id="bet-table">
                <thead>
                    <tr>
                        <th></th>
                        <th class="sortable" data-sort="match" onclick="sortTable('match')">Match <span class="sort-icon"></span></th>
                        <th class="sortable" data-sort="bet" onclick="sortTable('bet')">Bet <span class="sort-icon"></span></th>
                        <th class="sortable" data-sort="odds" onclick="sortTable('odds')">Odds <span class="sort-icon"></span></th>
                        <th class="sortable active desc" data-sort="ev" onclick="sortTable('ev')">EV <span class="sort-icon">&#9660;</span></th>
                        <th class="sortable" data-sort="edge" onclick="sortTable('edge')">Edge <span class="sort-icon"></span></th>
                        <th class="sortable" data-sort="prob" onclick="sortTable('prob')">Prob <span class="sort-icon"></span></th>
                        <th class="sortable" data-sort="goals" onclick="sortTable('goals')">Goals <span class="sort-icon"></span></th>
                        <th class="sortable" data-sort="stake" onclick="sortTable('stake')">Stake <span class="sort-icon"></span></th>
                        <th>Models (P / DC)</th>
                    </tr>
                </thead>
                <tbody id="bet-table-body">

                    <tr class="top-pick" data-bet-id="0" data-match="Napoli vs Juventus" data-bet="Over 2.5" data-odds="2.55" data-ev="30.485772607182415" data-edge="11.9552049439931" data-prob="51.17089121850291" data-goals="3.1573656294780577" data-stake="1.9282588619343701">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-0" checked onchange="updateCalculator()">
                                <label for="bet-0">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Napoli vs Juventus</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 20:45</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell over">Over 2.5</span></td>
                        <td class="odds-cell">2.55</td>
                        <td class="ev-cell">+30.5% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+12.0%</td>
                        <td class="prob-cell">51.2%</td>
                        <td class="goals-cell">3.16</td>
                        <td class="stake-cell">1.9%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">61%</span>
                                <span class="model-score">(1.8-1.4)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">28%</span>
                                <span class="model-score">(1.1-0.8)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="top-pick" data-bet-id="1" data-match="Elche vs Girona" data-bet="Under 2.5" data-odds="1.85" data-ev="19.778296407726547" data-edge="10.69097103120354" data-prob="64.7450250852576" data-goals="2.008680481433512" data-stake="3.14440324447163">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-1" checked onchange="updateCalculator()">
                                <label for="bet-1">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Elche vs Girona</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 14:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 2.5</span></td>
                        <td class="odds-cell">1.85</td>
                        <td class="ev-cell">+19.8% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+10.7%</td>
                        <td class="prob-cell">64.7%</td>
                        <td class="goals-cell">2.01</td>
                        <td class="stake-cell">3.1%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">67%</span>
                                <span class="model-score">(1.3-0.7)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">63%</span>
                                <span class="model-score">(1.0-1.1)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="top-pick" data-bet-id="2" data-match="Napoli vs Juventus" data-bet="Over 3.5" data-odds="4.7" data-ev="44.00971404530865" data-edge="9.36376894581035" data-prob="30.6403646904912" data-goals="3.1573656294780577" data-stake="0.63268709093313">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-2" checked onchange="updateCalculator()">
                                <label for="bet-2">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Napoli vs Juventus</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 20:45</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell over">Over 3.5</span></td>
                        <td class="odds-cell">4.70</td>
                        <td class="ev-cell">+44.0% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+9.4%</td>
                        <td class="prob-cell">30.6%</td>
                        <td class="goals-cell">3.16</td>
                        <td class="stake-cell">0.6%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">39%</span>
                                <span class="model-score">(1.8-1.4)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">11%</span>
                                <span class="model-score">(1.1-0.8)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="top-pick" data-bet-id="3" data-match="Sparta Rotterdam vs NAC Breda" data-bet="Under 2.5" data-odds="2.05" data-ev="19.110565202197073" data-edge="9.322226927901001" data-prob="58.10271473277906" data-goals="2.4941257836153805" data-stake="2.21957783997643">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-3" checked onchange="updateCalculator()">
                                <label for="bet-3">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Sparta Rotterdam vs NAC Breda</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 16:45</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 2.5</span></td>
                        <td class="odds-cell">2.05</td>
                        <td class="ev-cell">+19.1% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+9.3%</td>
                        <td class="prob-cell">58.1%</td>
                        <td class="goals-cell">2.49</td>
                        <td class="stake-cell">2.2%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">55%</span>
                                <span class="model-score">(1.5-1.0)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">69%</span>
                                <span class="model-score">(1.2-0.7)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="top-pick" data-bet-id="4" data-match="Osasuna vs Levante" data-bet="Under 2.5" data-odds="1.9" data-ev="17.179405581115926" data-edge="9.04179241111364" data-prob="61.673371358482065" data-goals="2.176864006123583" data-stake="2.51160900308712">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-4" checked onchange="updateCalculator()">
                                <label for="bet-4">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Osasuna vs Levante</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-08 21:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 2.5</span></td>
                        <td class="odds-cell">1.90</td>
                        <td class="ev-cell">+17.2% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+9.0%</td>
                        <td class="prob-cell">61.7%</td>
                        <td class="goals-cell">2.18</td>
                        <td class="stake-cell">2.5%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">63%</span>
                                <span class="model-score">(1.2-1.0)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">61%</span>
                                <span class="model-score">(1.4-0.8)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="top-pick" data-bet-id="5" data-match="Elche vs Girona" data-bet="Under 1.5" data-odds="3.45" data-ev="29.96672322462979" data-edge="8.68600673177674" data-prob="37.671513978153556" data-goals="2.008680481433512" data-stake="0.88632721752823">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-5" checked onchange="updateCalculator()">
                                <label for="bet-5">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Elche vs Girona</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 14:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 1.5</span></td>
                        <td class="odds-cell">3.45</td>
                        <td class="ev-cell">+30.0% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+8.7%</td>
                        <td class="prob-cell">37.7%</td>
                        <td class="goals-cell">2.01</td>
                        <td class="stake-cell">0.9%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">40%</span>
                                <span class="model-score">(1.3-0.7)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">36%</span>
                                <span class="model-score">(1.0-1.1)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="strong" data-bet-id="6" data-match="Sparta Rotterdam vs NAC Breda" data-bet="Under 3.5" data-odds="1.42" data-ev="11.394105028484901" data-edge="8.02401762569359" data-prob="78.4465528369612" data-goals="2.4941257836153805" data-stake="4.77620096767475">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-6" checked onchange="updateCalculator()">
                                <label for="bet-6">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Sparta Rotterdam vs NAC Breda</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 16:45</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 3.5</span></td>
                        <td class="odds-cell">1.42</td>
                        <td class="ev-cell">+11.4% <span class="badge-mini strong">Strong</span></td>
                        <td class="edge-cell">+8.0%</td>
                        <td class="prob-cell">78.4%</td>
                        <td class="goals-cell">2.49</td>
                        <td class="stake-cell">4.8%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">76%</span>
                                <span class="model-score">(1.5-1.0)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">87%</span>
                                <span class="model-score">(1.2-0.7)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="strong" data-bet-id="7" data-match="Elche vs Girona" data-bet="Under 3.5" data-odds="1.32" data-ev="10.46718485994269" data-edge="7.92968549995657" data-prob="83.68726125753233" data-goals="2.008680481433512" data-stake="5.0">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-7" checked onchange="updateCalculator()">
                                <label for="bet-7">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Elche vs Girona</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 14:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 3.5</span></td>
                        <td class="odds-cell">1.32</td>
                        <td class="ev-cell">+10.5% <span class="badge-mini strong">Strong</span></td>
                        <td class="edge-cell">+7.9%</td>
                        <td class="prob-cell">83.7%</td>
                        <td class="goals-cell">2.01</td>
                        <td class="stake-cell">5.0%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">86%</span>
                                <span class="model-score">(1.3-0.7)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">83%</span>
                                <span class="model-score">(1.0-1.1)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="strong" data-bet-id="8" data-match="Napoli vs Juventus" data-bet="Over 1.5" data-odds="1.5" data-ev="11.233892262057932" data-edge="7.489261508038619" data-prob="74.15592817470528" data-goals="3.1573656294780577" data-stake="3.7446307540193096">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-8" checked onchange="updateCalculator()">
                                <label for="bet-8">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Napoli vs Juventus</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 20:45</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell over">Over 1.5</span></td>
                        <td class="odds-cell">1.50</td>
                        <td class="ev-cell">+11.2% <span class="badge-mini strong">Strong</span></td>
                        <td class="edge-cell">+7.5%</td>
                        <td class="prob-cell">74.2%</td>
                        <td class="goals-cell">3.16</td>
                        <td class="stake-cell">3.7%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">82%</span>
                                <span class="model-score">(1.8-1.4)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">55%</span>
                                <span class="model-score">(1.1-0.8)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="strong" data-bet-id="9" data-match="Alanyaspor vs Antalyaspor" data-bet="Under 2.5" data-odds="1.85" data-ev="13.48234239973336" data-edge="7.28775264850452" data-prob="61.341806702558564" data-goals="2.392006715409561" data-stake="2.14345666132485">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-9" checked onchange="updateCalculator()">
                                <label for="bet-9">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Alanyaspor vs Antalyaspor</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-08 18:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 2.5</span></td>
                        <td class="odds-cell">1.85</td>
                        <td class="ev-cell">+13.5% <span class="badge-mini strong">Strong</span></td>
                        <td class="edge-cell">+7.3%</td>
                        <td class="prob-cell">61.3%</td>
                        <td class="goals-cell">2.39</td>
                        <td class="stake-cell">2.1%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">57%</span>
                                <span class="model-score">(1.4-1.0)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">63%</span>
                                <span class="model-score">(1.4-0.8)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="strong" data-bet-id="10" data-match="Granada vs Ceuta" data-bet="Under 2.5" data-odds="1.58" data-ev="11.245469654308348" data-edge="7.1173858571571795" data-prob="70.40852509766351" data-goals="1.9330991349919675" data-stake="3.06783873153327">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-10" checked onchange="updateCalculator()">
                                <label for="bet-10">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Granada vs Ceuta</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 21:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 2.5</span></td>
                        <td class="odds-cell">1.58</td>
                        <td class="ev-cell">+11.2% <span class="badge-mini strong">Strong</span></td>
                        <td class="edge-cell">+7.1%</td>
                        <td class="prob-cell">70.4%</td>
                        <td class="goals-cell">1.93</td>
                        <td class="stake-cell">3.1%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">69%</span>
                                <span class="model-score">(1.0-0.9)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">78%</span>
                                <span class="model-score">(0.8-0.9)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="strong" data-bet-id="11" data-match="OGC Nice vs Angers SCO" data-bet="Under 2.5" data-odds="1.9" data-ev="12.299732532360075" data-edge="6.473543438084251" data-prob="59.10512238545267" data-goals="2.316778192743313" data-stake="1.79820651057895">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-11" checked onchange="updateCalculator()">
                                <label for="bet-11">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">OGC Nice vs Angers SCO</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 15:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 2.5</span></td>
                        <td class="odds-cell">1.90</td>
                        <td class="ev-cell">+12.3% <span class="badge-mini strong">Strong</span></td>
                        <td class="edge-cell">+6.5%</td>
                        <td class="prob-cell">59.1%</td>
                        <td class="goals-cell">2.32</td>
                        <td class="stake-cell">1.8%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">59%</span>
                                <span class="model-score">(1.5-0.8)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">62%</span>
                                <span class="model-score">(1.6-0.6)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="top-pick" data-bet-id="12" data-match="Osasuna vs Levante" data-bet="Under 1.5" data-odds="3.5" data-ev="21.85402611419194" data-edge="6.2440074611977" data-prob="34.815436032626266" data-goals="2.176864006123583" data-stake="0.62440074611977">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-12" checked onchange="updateCalculator()">
                                <label for="bet-12">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Osasuna vs Levante</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-08 21:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 1.5</span></td>
                        <td class="odds-cell">3.50</td>
                        <td class="ev-cell">+21.9% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+6.2%</td>
                        <td class="prob-cell">34.8%</td>
                        <td class="goals-cell">2.18</td>
                        <td class="stake-cell">0.6%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">36%</span>
                                <span class="model-score">(1.2-1.0)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">34%</span>
                                <span class="model-score">(1.4-0.8)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="top-pick" data-bet-id="13" data-match="Sparta Rotterdam vs NAC Breda" data-bet="Under 1.5" data-odds="3.85" data-ev="23.442534265384296" data-edge="6.08896993906086" data-prob="32.06299591308683" data-goals="2.4941257836153805" data-stake="0.53412017009305">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-13" checked onchange="updateCalculator()">
                                <label for="bet-13">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Sparta Rotterdam vs NAC Breda</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 16:45</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 1.5</span></td>
                        <td class="odds-cell">3.85</td>
                        <td class="ev-cell">+23.4% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+6.1%</td>
                        <td class="prob-cell">32.1%</td>
                        <td class="goals-cell">2.49</td>
                        <td class="stake-cell">0.5%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">29%</span>
                                <span class="model-score">(1.5-1.0)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">42%</span>
                                <span class="model-score">(1.2-0.7)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="top-pick" data-bet-id="14" data-match="Granada vs Ceuta" data-bet="Under 1.5" data-odds="2.65" data-ev="15.46960567117015" data-edge="5.8375870457245895" data-prob="43.57343610232836" data-goals="1.9330991349919675" data-stake="0.8844828857158401">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-14" checked onchange="updateCalculator()">
                                <label for="bet-14">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Granada vs Ceuta</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 21:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 1.5</span></td>
                        <td class="odds-cell">2.65</td>
                        <td class="ev-cell">+15.5% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+5.8%</td>
                        <td class="prob-cell">43.6%</td>
                        <td class="goals-cell">1.93</td>
                        <td class="stake-cell">0.9%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">42%</span>
                                <span class="model-score">(1.0-0.9)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">51%</span>
                                <span class="model-score">(0.8-0.9)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="" data-bet-id="15" data-match="Osasuna vs Levante" data-bet="Under 3.5" data-odds="1.32" data-ev="7.56614571458436" data-edge="5.73192857165482" data-prob="81.48950432923058" data-goals="2.176864006123583" data-stake="4.47806919660532">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-15" checked onchange="updateCalculator()">
                                <label for="bet-15">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Osasuna vs Levante</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-08 21:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 3.5</span></td>
                        <td class="odds-cell">1.32</td>
                        <td class="ev-cell">+7.6% </td>
                        <td class="edge-cell">+5.7%</td>
                        <td class="prob-cell">81.5%</td>
                        <td class="goals-cell">2.18</td>
                        <td class="stake-cell">4.5%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">82%</span>
                                <span class="model-score">(1.2-1.0)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">81%</span>
                                <span class="model-score">(1.4-0.8)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="strong" data-bet-id="16" data-match="Lazio vs Bologna" data-bet="Over 2.5" data-odds="2.25" data-ev="12.265242204271631" data-edge="5.45121875745406" data-prob="49.8956632018985" data-goals="2.885928743829736" data-stake="1.0902437514908099">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-16" checked onchange="updateCalculator()">
                                <label for="bet-16">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Lazio vs Bologna</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 18:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell over">Over 2.5</span></td>
                        <td class="odds-cell">2.25</td>
                        <td class="ev-cell">+12.3% <span class="badge-mini strong">Strong</span></td>
                        <td class="edge-cell">+5.5%</td>
                        <td class="prob-cell">49.9%</td>
                        <td class="goals-cell">2.89</td>
                        <td class="stake-cell">1.1%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">55%</span>
                                <span class="model-score">(1.5-1.4)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">36%</span>
                                <span class="model-score">(1.1-1.0)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="" data-bet-id="17" data-match="OGC Nice vs Angers SCO" data-bet="Under 3.5" data-odds="1.35" data-ev="7.34598654707499" data-edge="5.44147151635184" data-prob="79.51554559042592" data-goals="2.316778192743313" data-stake="3.88676536882274">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-17" checked onchange="updateCalculator()">
                                <label for="bet-17">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">OGC Nice vs Angers SCO</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-07 15:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 3.5</span></td>
                        <td class="odds-cell">1.35</td>
                        <td class="ev-cell">+7.3% </td>
                        <td class="edge-cell">+5.4%</td>
                        <td class="prob-cell">79.5%</td>
                        <td class="goals-cell">2.32</td>
                        <td class="stake-cell">3.9%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">80%</span>
                                <span class="model-score">(1.5-0.8)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">82%</span>
                                <span class="model-score">(1.6-0.6)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="" data-bet-id="18" data-match="Alanyaspor vs Antalyaspor" data-bet="Under 3.5" data-odds="1.32" data-ev="7.17032675839433" data-edge="5.4320657260563" data-prob="81.18964148363206" data-goals="2.392006715409561" data-stake="4.2438013484814805">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-18" checked onchange="updateCalculator()">
                                <label for="bet-18">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Alanyaspor vs Antalyaspor</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-08 18:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 3.5</span></td>
                        <td class="odds-cell">1.32</td>
                        <td class="ev-cell">+7.2% </td>
                        <td class="edge-cell">+5.4%</td>
                        <td class="prob-cell">81.2%</td>
                        <td class="goals-cell">2.39</td>
                        <td class="stake-cell">4.2%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">78%</span>
                                <span class="model-score">(1.4-1.0)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">83%</span>
                                <span class="model-score">(1.4-0.8)</span>
                            </div>
                        </td>
                    </tr>

                    <tr class="top-pick" data-bet-id="19" data-match="Alanyaspor vs Antalyaspor" data-bet="Under 1.5" data-odds="3.4" data-ev="17.579080320908158" data-edge="5.1703177414435695" data-prob="34.58208244732593" data-goals="2.392006715409561" data-stake="0.5385747647337">
                        <td>
                            <div class="bet-row-checkbox">
                                <input type="checkbox" id="bet-19" checked onchange="updateCalculator()">
                                <label for="bet-19">&#10003;</label>
                            </div>
                        </td>
                        <td class="match-cell">
                            <div class="teams">Alanyaspor vs Antalyaspor</div>
                            <div class="meta">
                                <span class="league">Unknown</span>
                                <span class="date">2025-12-08 18:00</span>
                            </div>
                        </td>
                        <td><span class="bet-type-cell under">Under 1.5</span></td>
                        <td class="odds-cell">3.40</td>
                        <td class="ev-cell">+17.6% <span class="badge-mini top">Top</span></td>
                        <td class="edge-cell">+5.2%</td>
                        <td class="prob-cell">34.6%</td>
                        <td class="goals-cell">2.39</td>
                        <td class="stake-cell">0.5%</td>
                        <td class="models-cell">
                            <div class="model-mini">
                                <span class="model-label poisson">P</span>
                                <span class="model-prob">31%</span>
                                <span class="model-score">(1.4-1.0)</span>
                            </div>
                            <div class="model-mini">
                                <span class="model-label dc">D</span>
                                <span class="model-prob">36%</span>
                                <span class="model-score">(1.4-0.8)</span>
                            </div>
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
        
        <div class="footer">
            <p>Model: Poisson (primary) + Dixon-Coles (secondary) | Min Edge: 10% | Optimal Prob Range: 35-75%</p>
            <p style="margin-top: 8px; color: #4ecca3;">Based on calibration analysis: Brier Score 0.246, ECE 1.15%</p>
            <p style="margin-top: 8px;">Bet responsibly. Past performance does not guarantee future results.</p>
        </div>
    </div>
    
    <script>
        // Current sort state
        let currentSort = { column: 'ev', direction: 'desc' };
        
        // Initialize calculator on page load
        document.addEventListener('DOMContentLoaded', function() {
            applyProbFilter();
        });
        
        function sortTable(column) {
            const tbody = document.getElementById('bet-table-body');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            const headers = document.querySelectorAll('.bet-table th.sortable');
            
            // Determine sort direction
            let direction = 'desc';
            if (currentSort.column === column && currentSort.direction === 'desc') {
                direction = 'asc';
            }
            currentSort = { column, direction };
            
            // Update header styles
            headers.forEach(th => {
                th.classList.remove('active', 'asc', 'desc');
                th.querySelector('.sort-icon').innerHTML = '';
            });
            
            const activeHeader = document.querySelector(`th[data-sort="${column}"]`);
            activeHeader.classList.add('active', direction);
            activeHeader.querySelector('.sort-icon').innerHTML = direction === 'desc' ? '&#9660;' : '&#9650;';
            
            // Sort rows
            rows.sort((a, b) => {
                let aVal = a.dataset[column];
                let bVal = b.dataset[column];
                
                // Check if numeric
                const aNum = parseFloat(aVal);
                const bNum = parseFloat(bVal);
                
                if (!isNaN(aNum) && !isNaN(bNum)) {
                    return direction === 'desc' ? bNum - aNum : aNum - bNum;
                } else {
                    // String comparison
                    return direction === 'desc' 
                        ? bVal.localeCompare(aVal) 
                        : aVal.localeCompare(bVal);
                }
            });
            
            // Re-append sorted rows
            rows.forEach(row => tbody.appendChild(row));
        }
        
        function applyProbFilter() {
            const minProb = parseFloat(document.getElementById('minProb').value);
            const maxProb = parseFloat(document.getElementById('maxProb').value);
            const betRows = document.querySelectorAll('.bet-table tbody tr');
            
            betRows.forEach(row => {
                const checkbox = row.querySelector('input[type="checkbox"]');
                const prob = parseFloat(row.dataset.prob);  // Already in percentage
                
                if (prob >= minProb && prob <= maxProb) {
                    checkbox.checked = true;
                } else {
                    checkbox.checked = false;
                }
            });
            
            updateCalculator();
        }
        
        function updateCalculator() {
            const bankroll = parseFloat(document.getElementById('bankroll').value) || 0;
            const stakingMethod = document.getElementById('staking').value;
            const betRows = document.querySelectorAll('.bet-table tbody tr');
            
            // First pass: collect selected bets
            let selectedBets = [];
            betRows.forEach(row => {
                const checkbox = row.querySelector('input[type="checkbox"]');
                if (checkbox && checkbox.checked) {
                    const odds = parseFloat(row.dataset.odds);
                    const stakePercent = parseFloat(row.dataset.stake);  // Already in percentage
                    const prob = parseFloat(row.dataset.prob) / 100;  // Convert to decimal
                    const ev = prob * odds - 1;
                    const teams = row.querySelector('.teams').textContent;
                    const bet = row.querySelector('.bet-type-cell').textContent;
                    selectedBets.push({ row, odds, kelly: stakePercent / 100, prob, ev, teams, bet });
                    row.classList.add('selected');
                } else {
                    row.classList.remove('selected');
                }
            });
            
            // Calculate stakes based on method
            let totalKelly = selectedBets.reduce((sum, b) => sum + b.kelly, 0);
            let totalEV = selectedBets.reduce((sum, b) => sum + Math.max(0, b.ev), 0);
            
            selectedBets.forEach(bet => {
                if (stakingMethod === 'kelly') {
                    // Proportional to Kelly fraction - distribute bankroll proportionally
                    bet.stakePercent = totalKelly > 0 ? bet.kelly / totalKelly : 0;
                } else if (stakingMethod === 'fixed') {
                    // Equal stakes
                    bet.stakePercent = selectedBets.length > 0 ? 1 / selectedBets.length : 0;
                } else if (stakingMethod === 'ev-weighted') {
                    // Weighted by EV
                    bet.stakePercent = totalEV > 0 ? Math.max(0, bet.ev) / totalEV : 0;
                }
                bet.stakeAmount = bankroll * bet.stakePercent;
            });
            
            // Calculate totals
            let totalStake = selectedBets.reduce((sum, b) => sum + b.stakeAmount, 0);
            let expectedReturn = selectedBets.reduce((sum, b) => sum + b.stakeAmount * b.odds * b.prob, 0);
            let expectedProfit = expectedReturn - totalStake;
            
            // Update display
            document.getElementById('selected-count').textContent = selectedBets.length;
            document.getElementById('total-stake').textContent = totalStake.toFixed(0) + ' kr';
            document.getElementById('expected-return').textContent = expectedReturn.toFixed(0) + ' kr';
            document.getElementById('expected-profit').textContent = (expectedProfit >= 0 ? '+' : '') + expectedProfit.toFixed(0) + ' kr';
            
            // Update color based on profit
            const profitEl = document.getElementById('expected-profit');
            profitEl.className = expectedProfit >= 0 ? 'value green' : 'value red';
            
            // Update breakdown
            const breakdownEl = document.getElementById('bet-breakdown');
            if (selectedBets.length > 0) {
                let breakdownHTML = '<div class="bet-breakdown-title">Stake Breakdown</div><div class="bet-breakdown-list">';
                selectedBets.forEach(bet => {
                    breakdownHTML += `
                        <div class="bet-breakdown-item">
                            <div>
                                <span class="bet-match">${bet.teams}</span>
                                <span class="bet-info"> — ${bet.bet} @ ${bet.odds.toFixed(2)}</span>
                            </div>
                            <span class="bet-amount">${bet.stakeAmount.toFixed(0)} kr</span>
                        </div>
                    `;
                });
                breakdownHTML += '</div>';
                breakdownEl.innerHTML = breakdownHTML;
                breakdownEl.classList.add('visible');
            } else {
                breakdownEl.classList.remove('visible');
            }
        }
        
        function selectAll() {
            document.querySelectorAll('.bet-table tbody input[type="checkbox"]').forEach(cb => cb.checked = true);
            updateCalculator();
        }
        
        function selectNone() {
            document.querySelectorAll('.bet-table tbody input[type="checkbox"]').forEach(cb => cb.checked = false);
            updateCalculator();
        }
        
        function selectTop5() {
            const checkboxes = document.querySelectorAll('.bet-table tbody input[type="checkbox"]');
            checkboxes.forEach((cb, index) => {
                cb.checked = index < 5;
            });
            updateCalculator();
        }
        
        // Update when bankroll changes
        document.getElementById('bankroll').addEventListener('input', updateCalculator);
    </script>
</body>
</html>
